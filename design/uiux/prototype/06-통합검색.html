<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í†µí•©ê²€ìƒ‰ - AI Hub</title>
  <link rel="stylesheet" href="common.css">
  <style>
    body {
      padding-bottom: 80px;
    }
    
    .search-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background-color: white;
      padding: 16px;
      border-bottom: 1px solid var(--neutral-300);
    }
    
    .search-input-container {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    
    .search-input {
      flex: 1;
      height: 44px;
      padding: 12px 16px;
      border: 1px solid var(--neutral-300);
      border-radius: 8px;
      font-size: 14px;
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary-main);
    }
    
    .cancel-btn {
      color: var(--primary-main);
      font-size: 14px;
      cursor: pointer;
    }
    
    .recent-searches {
      padding: 24px 16px;
    }
    
    .recent-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
      color: var(--neutral-700);
    }
    
    .recent-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      cursor: pointer;
    }
    
    .recent-item:hover {
      color: var(--primary-main);
    }
    
    .recent-text {
      font-size: 14px;
    }
    
    .recent-delete {
      color: var(--neutral-500);
      font-size: 18px;
      cursor: pointer;
    }
    
    .popular-keywords {
      padding: 0 16px 24px;
    }
    
    .keyword-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .keyword-chip {
      padding: 8px 16px;
      background-color: var(--neutral-100);
      border-radius: 16px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .keyword-chip:hover {
      background-color: var(--primary-main);
      color: white;
    }
  </style>
</head>
<body>
  <div class="search-header">
    <div class="search-input-container">
      <input 
        type="text" 
        class="search-input" 
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" 
        id="searchInput"
        autofocus
      >
      <div class="cancel-btn" onclick="AppUtils.goBack()">ì·¨ì†Œ</div>
    </div>
  </div>
  
  <div class="recent-searches">
    <div class="recent-title">ìµœê·¼ ê²€ìƒ‰</div>
    <div class="recent-item" onclick="search('ë¸”ë¡œê·¸ ì‘ì„±')">
      <div class="recent-text">ğŸ• ë¸”ë¡œê·¸ ì‘ì„±</div>
      <div class="recent-delete" onclick="deleteRecentSearch(event, 'ë¸”ë¡œê·¸ ì‘ì„±')">Ã—</div>
    </div>
    <div class="recent-item" onclick="search('ì´ë¯¸ì§€ ìƒì„±')">
      <div class="recent-text">ğŸ• ì´ë¯¸ì§€ ìƒì„±</div>
      <div class="recent-delete" onclick="deleteRecentSearch(event, 'ì´ë¯¸ì§€ ìƒì„±')">Ã—</div>
    </div>
    <div class="recent-item" onclick="search('ChatGPT')">
      <div class="recent-text">ğŸ• ChatGPT</div>
      <div class="recent-delete" onclick="deleteRecentSearch(event, 'ChatGPT')">Ã—</div>
    </div>
  </div>
  
  <div class="popular-keywords">
    <div class="recent-title">ì¸ê¸° ê²€ìƒ‰ì–´</div>
    <div class="keyword-chips">
      <div class="keyword-chip" onclick="search('í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§')">í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§</div>
      <div class="keyword-chip" onclick="search('ë§ˆì¼€íŒ… ìë™í™”')">ë§ˆì¼€íŒ… ìë™í™”</div>
      <div class="keyword-chip" onclick="search('Midjourney')">Midjourney</div>
      <div class="keyword-chip" onclick="search('ì½”ë“œ ìƒì„±')">ì½”ë“œ ìƒì„±</div>
      <div class="keyword-chip" onclick="search('ì´ë¯¸ì§€ í¸ì§‘')">ì´ë¯¸ì§€ í¸ì§‘</div>
      <div class="keyword-chip" onclick="search('ë°ì´í„° ë¶„ì„')">ë°ì´í„° ë¶„ì„</div>
    </div>
  </div>
  
  
  <div class="nav-bar">
    <a href="#" class="nav-item" onclick="event.preventDefault(); AppUtils.navigateTo('05-í™ˆ.html');">
      <div class="nav-item-icon">ğŸ </div>
      <div class="nav-item-label">í™ˆ</div>
    </a>
    <a href="#" class="nav-item active" onclick="event.preventDefault(); AppUtils.navigateTo('06-í†µí•©ê²€ìƒ‰.html');">
      <div class="nav-item-icon">ğŸ”</div>
      <div class="nav-item-label">ê²€ìƒ‰</div>
    </a>
    <a href="#" class="nav-item" onclick="event.preventDefault(); AppUtils.navigateTo('27-ê¸°ì—¬-ë©”ì¸.html');">
      <div class="nav-item-icon">âœï¸</div>
      <div class="nav-item-label">ê¸°ì—¬</div>
    </a>
    <a href="#" class="nav-item" onclick="event.preventDefault(); AppUtils.navigateTo('28-MY.html');">
      <div class="nav-item-icon">ğŸ‘¤</div>
      <div class="nav-item-label">MY</div>
    </a>
  </div>
  
  <script src="common.js"></script>
  <script>
    const searchInput = document.getElementById('searchInput');
    
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        search(searchInput.value);
      }
    });
    
    function search(keyword) {
      if (keyword.trim()) {
        // ìµœê·¼ ê²€ìƒ‰ì–´ì— ì¶”ê°€
        const recentSearches = AppUtils.Storage.get('recentSearches') || [];
        if (!recentSearches.includes(keyword)) {
          recentSearches.unshift(keyword);
          if (recentSearches.length > 10) {
            recentSearches.pop();
          }
          AppUtils.Storage.set('recentSearches', recentSearches);
        }
        window.location.href = `07-í†µí•©ê²€ìƒ‰-ê²°ê³¼.html?q=${encodeURIComponent(keyword)}`;
      }
    }
    
    function deleteRecentSearch(event, keyword) {
      event.stopPropagation();
      const item = event.target.closest('.recent-item');
      item.style.opacity = '0';
      setTimeout(() => {
        item.remove();
        AppUtils.showToast('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
      }, 200);
    }
  </script>
</body>
</html>

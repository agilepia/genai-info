@startuml
!theme mono

title 02. AI도구 상세정보 확인 플로우

actor "직장인사용자" as User
participant "가이드북시스템" as System
participant "AI도구정보DB" as ToolDB
participant "외부AI도구API" as ExternalAPI
participant "사용자행동로그시스템" as LogSystem
participant "컨텐츠관리시스템" as CMS

== 이벤트: AI도구 상세정보 조회 시작 ==

User -> System: **커맨드: AI도구선택**\n(도구ID, 사용자ID)

activate System
System -> ToolDB: **커맨드: 도구상세정보조회**\n(도구ID)
activate ToolDB

ToolDB --> System: **이벤트: AI도구선택됨**\n(도구기본정보, 카테고리, 가격정보)
deactivate ToolDB

System -> ExternalAPI: **커맨드: 실시간정보확인**\n(도구API엔드포인트, 마지막업데이트시간)
activate ExternalAPI

note right of System
  **정책/규칙:**
  - 실시간 정보는 캐시 우선, 1시간 간격으로 갱신
  - 도구 접근성(가용여부) 실시간 체크
  - 사용자별 맞춤 가이드 제공 레벨 적용
end note

ExternalAPI --> System: **이벤트: 도구상세정보로딩됨**\n(현재가용상태, 최신기능정보, API상태)
deactivate ExternalAPI

System -> LogSystem: **커맨드: 상세조회로깅**\n(사용자ID, 도구ID, 조회시간)
activate LogSystem
LogSystem --> System: **이벤트: 상세조회기록됨**\n(로그ID)
deactivate LogSystem

System --> User: **이벤트: 도구상세정보표시됨**\n(도구정보, 가용상태, 사용가이드링크)

== 이벤트: 사용가이드 조회 ==

User -> System: **커맨드: 사용가이드요청**\n(도구ID, 난이도: 초급/중급/고급)
activate System

System -> CMS: **커맨드: 가이드컨텐츠조회**\n(도구ID, 난이도레벨, 사용자프로필)
activate CMS
CMS --> System: **이벤트: 사용가이드조회됨**\n(가이드내용, 단계별설명, 실습예제)
deactivate CMS

System --> User: **이벤트: 사용가이드표시됨**\n(단계별가이드, 실습링크, 팁)

== 이벤트: 활용사례 및 평점 조회 ==

User -> System: **커맨드: 활용사례조회**\n(도구ID, 업무타입필터)
activate System

System -> ToolDB: **커맨드: 사례및평점조회**\n(도구ID, 필터조건)
activate ToolDB
ToolDB --> System: **이벤트: 활용사례조회됨**\n(사례목록, 업무별사례, 성공사례)
ToolDB --> System: **이벤트: 도구평점조회됨**\n(평균평점, 리뷰개수, 평점분포)
deactivate ToolDB

System --> User: **이벤트: 활용사례및평점표시됨**\n(활용사례목록, 평점정보, 사용자리뷰)

== 이벤트: 도구 바로가기 실행 ==

User -> System: **커맨드: 도구바로가기실행**\n(도구ID, 접근방식)
activate System

System -> ExternalAPI: **커맨드: 도구접근링크생성**\n(도구ID, 사용자인증정보)
activate ExternalAPI
ExternalAPI --> System: **이벤트: 접근링크생성됨**\n(바로가기URL, 인증토큰)
deactivate ExternalAPI

System -> LogSystem: **커맨드: 도구사용로깅**\n(사용자ID, 도구ID, 접근시간)
activate LogSystem
LogSystem --> System: **이벤트: 도구사용기록됨**\n(사용로그ID)
deactivate LogSystem

System --> User: **이벤트: 도구실행됨**\n(새창으로도구페이지열림)

deactivate System

note over User, CMS
  **필요한 데이터:**
  - 커맨드 데이터: 도구ID, 사용자ID, 난이도레벨, 업무타입필터
  - 이벤트 데이터: 도구상세정보, 가이드내용, 활용사례, 평점데이터
  
  **External System:**  
  - 외부AI도구API: 실시간 도구 상태 및 정보
  - 컨텐츠관리시스템: 가이드 및 교육 컨텐츠
  - 사용자행동로그시스템: 사용 패턴 추적
end note

@enduml
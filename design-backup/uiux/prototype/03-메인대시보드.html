<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€ì‹œë³´ë“œ - AI ë„êµ¬ ì°¾ê¸°</title>
    <link rel="stylesheet" href="common.css">
    <style>
        .main-layout {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .main-content {
            flex: 1;
            padding: var(--space-xl) 0;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: var(--space-xxxl) 0;
            text-align: center;
            margin-bottom: var(--space-xxxl);
        }
        
        .hero-title {
            font-size: 40px;
            font-weight: 700;
            margin-bottom: var(--space-lg);
            color: white;
        }
        
        .hero-subtitle {
            font-size: var(--font-size-body-large);
            margin-bottom: var(--space-xl);
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            background: white;
            color: var(--color-primary);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-lg);
            text-decoration: none;
            font-weight: 600;
            font-size: var(--font-size-body-large);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .hero-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-xl);
            margin-bottom: var(--space-xxxl);
        }
        
        .recent-section {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-sm);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }
        
        .section-title {
            font-size: var(--font-size-h2);
            font-weight: 600;
            color: var(--color-gray-900);
            margin: 0;
        }
        
        .recent-item {
            display: flex;
            align-items: center;
            padding: var(--space-md);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-sm);
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .recent-item:hover {
            background: var(--color-gray-50);
        }
        
        .recent-item:last-child {
            margin-bottom: 0;
        }
        
        .recent-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-lg);
            background: var(--color-primary-light);
            color: var(--color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: var(--space-md);
        }
        
        .recent-content {
            flex: 1;
        }
        
        .recent-title {
            font-weight: 500;
            color: var(--color-gray-900);
            margin-bottom: 4px;
        }
        
        .recent-meta {
            font-size: var(--font-size-caption);
            color: var(--color-gray-500);
        }
        
        .stats-section {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-sm);
        }
        
        .stat-item {
            text-align: center;
            padding: var(--space-lg) 0;
            border-bottom: 1px solid var(--color-gray-100);
        }
        
        .stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-number {
            font-size: var(--font-size-h1);
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-xs);
        }
        
        .stat-label {
            font-size: var(--font-size-body);
            color: var(--color-gray-500);
        }
        
        .popular-section {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-sm);
        }
        
        .popular-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
        }
        
        .empty-state {
            text-align: center;
            padding: var(--space-xxxl) var(--space-lg);
            color: var(--color-gray-500);
        }
        
        .empty-icon {
            font-size: 48px;
            margin-bottom: var(--space-lg);
        }
        
        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-title {
                font-size: 32px;
            }
            
            .popular-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .hero-section {
                padding: var(--space-xl) 0;
            }
            
            .hero-title {
                font-size: 28px;
            }
            
            .main-content {
                padding: var(--space-lg) 0;
            }
        }
    </style>
</head>
<body>
    <div class="main-layout">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="container">
                <div class="header__content">
                    <a href="#" class="header__logo">AI ë„êµ¬ ì°¾ê¸°</a>
                    <div class="header__nav">
                        <div class="header__user">
                            <div class="header__avatar" id="userAvatar">ê¹€</div>
                            <span id="userName">ê¹€ì² ìˆ˜</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <!-- Hero ì„¹ì…˜ -->
            <section class="hero-section">
                <div class="container">
                    <h1 class="hero-title">ì—…ë¬´ì— ë”± ë§ëŠ” AI ë„êµ¬ë¥¼ ì°¾ì•„ë³´ì„¸ìš”</h1>
                    <p class="hero-subtitle">
                        ëª‡ ê°€ì§€ ì§ˆë¬¸ë§Œìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì˜ ì—…ë¬´ ìƒí™©ì— ê°€ì¥ ì í•©í•œ ìƒì„±í˜• AI ë„êµ¬ë¥¼ ì¶”ì²œë°›ìœ¼ì„¸ìš”.
                        ì‹œê°„ì„ ì ˆì•½í•˜ê³  ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”.
                    </p>
                    <a href="#" class="hero-cta" id="startRecommendation">
                        <span>AI ë„êµ¬ ì°¾ê¸° ì‹œì‘</span>
                        <span>â†’</span>
                    </a>
                </div>
            </section>
            
            <div class="container">
                <!-- ëŒ€ì‹œë³´ë“œ ê·¸ë¦¬ë“œ -->
                <div class="dashboard-grid">
                    <!-- ìµœê·¼ ì¶”ì²œ ì´ë ¥ -->
                    <section class="recent-section">
                        <div class="section-header">
                            <h2 class="section-title">ìµœê·¼ ì¶”ì²œ ì´ë ¥</h2>
                            <a href="#" class="btn btn-text">ì „ì²´ë³´ê¸°</a>
                        </div>
                        
                        <div id="recentRecommendations">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                        </div>
                    </section>
                    
                    <!-- ì‚¬ìš© í†µê³„ -->
                    <section class="stats-section">
                        <div class="section-header">
                            <h2 class="section-title">ë‚˜ì˜ í™œë™</h2>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-number" id="recommendationCount">0</div>
                            <div class="stat-label">ì¶”ì²œ ë°›ì€ ë„êµ¬</div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-number" id="evaluationCount">0</div>
                            <div class="stat-label">í‰ê°€í•œ ë„êµ¬</div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-number">92%</div>
                            <div class="stat-label">í‰ê·  ë§Œì¡±ë„</div>
                        </div>
                    </section>
                </div>
                
                <!-- ì¸ê¸° AI ë„êµ¬ -->
                <section class="popular-section">
                    <div class="section-header">
                        <h2 class="section-title">ì¸ê¸° AI ë„êµ¬</h2>
                        <a href="#" class="btn btn-text">ë”ë³´ê¸°</a>
                    </div>
                    
                    <div class="popular-grid" id="popularTools">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                    </div>
                </section>
            </div>
        </main>
        
        <!-- í‘¸í„° -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 AI ë„êµ¬ ì°¾ê¸°. ì—…ë¬´ íš¨ìœ¨ì„±ì„ ìœ„í•œ AI ì¶”ì²œ ì„œë¹„ìŠ¤</p>
            </div>
        </footer>
    </div>
    
    <script src="common.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ì‚¬ìš©ì ì •ë³´ í™•ì¸
            if (!AppState.user) {
                Utils.navigateTo('01-ë¡œê·¸ì¸');
                return;
            }
            
            // UI ì´ˆê¸°í™”
            initializeUI();
            loadDashboardData();
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            setupEventListeners();
            
            function initializeUI() {
                // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
                const userAvatar = Utils.$('#userAvatar');
                const userName = Utils.$('#userName');
                
                if (AppState.user) {
                    userAvatar.textContent = AppState.user.avatar || AppState.user.name.charAt(0);
                    userName.textContent = AppState.user.name;
                }
            }
            
            function setupEventListeners() {
                // AI ë„êµ¬ ì°¾ê¸° ì‹œì‘ ë²„íŠ¼
                const startBtn = Utils.$('#startRecommendation');
                Utils.on(startBtn, 'click', function(e) {
                    e.preventDefault();
                    Utils.navigateTo('04-ì—…ë¬´ìƒí™©ì…ë ¥');
                });
                
                // ì‚¬ìš©ì ì•„ë°”íƒ€ í´ë¦­ (í”„ë¡œí•„ ê´€ë¦¬)
                const userAvatar = Utils.$('#userAvatar');
                Utils.on(userAvatar, 'click', function() {
                    showUserMenu();
                });
            }
            
            function loadDashboardData() {
                // ìµœê·¼ ì¶”ì²œ ì´ë ¥ ë¡œë“œ
                loadRecentRecommendations();
                
                // ì¸ê¸° ë„êµ¬ ë¡œë“œ
                loadPopularTools();
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                updateStats();
            }
            
            function loadRecentRecommendations() {
                const container = Utils.$('#recentRecommendations');
                
                if (AppState.recommendations && AppState.recommendations.length > 0) {
                    // ìµœê·¼ 3ê°œë§Œ í‘œì‹œ
                    const recent = AppState.recommendations.slice(0, 3);
                    
                    container.innerHTML = recent.map(rec => `
                        <div class="recent-item" onclick="viewRecommendation('${rec.id}')">
                            <div class="recent-icon">${rec.name.charAt(0)}</div>
                            <div class="recent-content">
                                <div class="recent-title">${rec.name}</div>
                                <div class="recent-meta">${rec.company} â€¢ ${getRelativeTime(rec.createdAt || new Date())}</div>
                            </div>
                            <div class="badge badge-${rec.price === 'free' ? 'success' : 'warning'}">
                                ${rec.price === 'free' ? 'ë¬´ë£Œ' : 'ìœ ë£Œ'}
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ”</div>
                            <p>ì•„ì§ ì¶”ì²œë°›ì€ AI ë„êµ¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                            <p class="caption">ì—…ë¬´ ìƒí™©ì„ ì…ë ¥í•˜ì—¬ ë§ì¶¤ ì¶”ì²œì„ ë°›ì•„ë³´ì„¸ìš”!</p>
                        </div>
                    `;
                }
            }
            
            function loadPopularTools() {
                const container = Utils.$('#popularTools');
                
                // ì¸ê¸° ë„êµ¬ (ìƒìœ„ 6ê°œ)
                const popularTools = SampleData.aiTools
                    .sort((a, b) => b.rating - a.rating)
                    .slice(0, 6);
                
                container.innerHTML = popularTools.map(tool => `
                    <div class="ai-tool-card" onclick="viewToolDetail(${tool.id})">
                        <div class="ai-tool-card__header">
                            <div class="ai-tool-card__logo">${tool.logo}</div>
                            <div class="ai-tool-card__title">${tool.name}</div>
                            <div class="ai-tool-card__badge ai-tool-card__badge--${tool.price === 'free' ? 'free' : 'paid'}">
                                ${tool.price === 'free' ? 'ë¬´ë£Œ' : tool.price === 'freemium' ? 'ì¼ë¶€ë¬´ë£Œ' : 'ìœ ë£Œ'}
                            </div>
                        </div>
                        <div class="ai-tool-card__description">
                            ${tool.description}
                        </div>
                        <div class="ai-tool-card__footer">
                            <div class="flex items-center gap-xs">
                                <span>â­ ${tool.rating}</span>
                                <span class="caption">(${tool.reviewCount})</span>
                            </div>
                            <div class="difficulty-indicator">
                                ${'â˜…'.repeat(tool.difficulty)}${'â˜†'.repeat(3 - tool.difficulty)}
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            function updateStats() {
                const recCount = Utils.$('#recommendationCount');
                const evalCount = Utils.$('#evaluationCount');
                
                // ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜ ìˆ«ì ì—…ë°ì´íŠ¸
                animateCount(recCount, 0, AppState.recommendations.length, 1000);
                animateCount(evalCount, 0, Math.floor(AppState.recommendations.length * 0.7), 1200);
            }
            
            function animateCount(element, start, end, duration) {
                const range = end - start;
                const increment = range / (duration / 16);
                let current = start;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= end) {
                        element.textContent = end;
                        clearInterval(timer);
                    } else {
                        element.textContent = Math.floor(current);
                    }
                }, 16);
            }
            
            function getRelativeTime(date) {
                const now = new Date();
                const diffMs = now - new Date(date);
                const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
                const diffDays = Math.floor(diffHours / 24);
                
                if (diffDays > 0) {
                    return `${diffDays}ì¼ ì „`;
                } else if (diffHours > 0) {
                    return `${diffHours}ì‹œê°„ ì „`;
                } else {
                    return 'ë°©ê¸ˆ ì „';
                }
            }
            
            function viewRecommendation(id) {
                // ì¶”ì²œ ê²°ê³¼ ìƒì„¸ ë³´ê¸°
                Utils.navigateTo('05-ì¶”ì²œê²°ê³¼');
            }
            
            function viewToolDetail(id) {
                const tool = SampleData.aiTools.find(t => t.id === id);
                if (tool) {
                    AppState.setSelectedTool(tool);
                    Utils.navigateTo('06-ë„êµ¬ìƒì„¸ë³´ê¸°');
                }
            }
            
            function showUserMenu() {
                // ì‚¬ìš©ì ë©”ë‰´ í† ê¸€ (í”„ë¡œí† íƒ€ì…ì—ì„œëŠ” ê°„ë‹¨íˆ ì²˜ë¦¬)
                const actions = ['í”„ë¡œí•„ ê´€ë¦¬', 'ë¡œê·¸ì•„ì›ƒ'];
                const action = prompt('ì„ íƒí•˜ì„¸ìš”:\n1. í”„ë¡œí•„ ê´€ë¦¬\n2. ë¡œê·¸ì•„ì›ƒ\n\në²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
                
                if (action === '1') {
                    Utils.navigateTo('08-í”„ë¡œí•„ê´€ë¦¬');
                } else if (action === '2') {
                    logout();
                }
            }
            
            function logout() {
                if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    AppState.setUser(null);
                    localStorage.clear();
                    Utils.navigateTo('01-ë¡œê·¸ì¸');
                }
            }
        });
        
        // ì „ì—­ í•¨ìˆ˜ë“¤
        window.viewRecommendation = function(id) {
            Utils.navigateTo('05-ì¶”ì²œê²°ê³¼');
        };
        
        window.viewToolDetail = function(id) {
            const tool = SampleData.aiTools.find(t => t.id === id);
            if (tool) {
                AppState.setSelectedTool(tool);
                Utils.navigateTo('06-ë„êµ¬ìƒì„¸ë³´ê¸°');
            }
        };
    </script>
</body>
</html>
